<div class="container mt-5">
  <h2>Editar Usuario</h2>
  <form [formGroup]="editUserForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="id" class="form-label">ID</label>
      <input type="text" id="id" class="form-control" formControlName="id" readonly />
    </div>

    <div class="mb-3">
      <label for="name" class="form-label">Nombre</label>
      <input type="text" id="name" class="form-control" formControlName="name" required />
      <div *ngIf="editUserForm.get('name')?.invalid && editUserForm.get('name')?.touched" class="text-danger">
        <small *ngIf="editUserForm.get('name')?.errors?.['required']">Nombre es obligatorio.</small>
        <small *ngIf="editUserForm.get('name')?.errors?.['minlength']">El nombre debe tener al menos 2
          caracteres.</small>
      </div>
    </div>

    <div class="mb-3">
      <label for="surname" class="form-label">Apellido</label>
      <input type="text" id="surname" class="form-control" formControlName="surname" required />
      <div *ngIf="editUserForm.get('surname')?.invalid && editUserForm.get('surname')?.touched" class="text-danger">
        <small *ngIf="editUserForm.get('surname')?.errors?.['required']">Apellido es obligatorio.</small>
        <small *ngIf="editUserForm.get('surname')?.errors?.['minlength']">El apellido debe tener al menos 2
          caracteres.</small>
      </div>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Correo Electrónico</label>
      <input type="email" id="email" class="form-control" formControlName="email" required readonly />
    </div>

    <div class="mb-3">
      <label for="password" class="form-label">Contraseña</label>
      <input type="password" id="password" class="form-control" formControlName="password" />
      <small class="form-text text-muted">Déjelo en blanco si no desea cambiar la contraseña</small>
      <div *ngIf="editUserForm.get('password')?.invalid && editUserForm.get('password')?.touched" class="text-danger">
        <small *ngIf="editUserForm.get('password')?.errors?.['required']">Contraseña es obligatoria.</small>
        <small *ngIf="editUserForm.get('password')?.errors?.['minlength']">La contraseña debe tener al menos 6
          caracteres.</small>
        <small *ngIf="editUserForm.get('password')?.errors?.['maxlength']">La contraseña no debe exceder 18
          caracteres.</small>
        <small *ngIf="editUserForm.get('password')?.errors?.['pattern']">
          La contraseña debe incluir al menos un número, una letra mayúscula y un carácter especial ($!%*?&).
        </small>
      </div>
    </div>

    <div class="mb-3">
      <label for="rol" class="form-label">Rol</label>
      <select id="rol" class="form-control" formControlName="rol" required>
        <option value="3">Cliente</option>
        <option value="2">Usuario</option>
        <option value="1">Administrador</option>
      </select>
      <div *ngIf="editUserForm.get('rol')?.invalid && editUserForm.get('rol')?.touched" class="text-danger">
        <small>Seleccione un rol válido.</small>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="editUserForm.invalid">Guardar Cambios</button>
    <button type="button" class="btn btn-secondary" (click)="goBack()">Cancelar</button>
  </form>
</div>

<!-- Loading Screen -->
<div id="loading-screen" class="d-flex justify-content-center align-items-center">
  <div class="loader"></div>
</div>